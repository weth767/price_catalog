<div class="flex flex-col w-full p-8">
  <div class="flex flex-row w-full gap-16 items-center">
    <img [src]="getProductImage(lessPrice?.imageUrl)" class="w-96 h-96" />
    <div class="flex flex-col justify-center gap-2">
      <span class="text-3xl my-2">{{ product?.name }}</span>
      <span class="text-xl">
        Menor preço via
        <a
          class="text-blue-900 no-underline text-xl"
          [href]="lessPrice?.url"
          target="_blank"
          >{{ getDomainName(lessPrice?.url) }}</a
        >
      </span>
      <mat-divider class="!border-t-gray-200"></mat-divider>
      <span class="text-xl">{{
        lessPrice?.dateTime | date : "dd/MM/yyyy"
      }}</span>
      <mat-divider class="!border-t-gray-200"></mat-divider>
      <span class="text-xl">{{ lessPrice?.price | currency : "BRL" }}</span>
    </div>
  </div>
  <mat-card class="w-full my-2">
    <p-chart type="line" [data]="data" [options]="options" />
  </mat-card>
  <p-table
    [value]="productPricesSorted"
    [tableStyle]="{ 'min-width': '50rem' }"
  >
    <ng-template pTemplate="header">
      <tr>
        <th></th>
        <th>Data</th>
        <th>Preço</th>
        <th>Disponível em</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-productPrice>
      <tr>
        <td>
          <img
            [src]="getProductImage(productPrice.imageUrl)"
            class="w-24 h-24"
          />
        </td>
        <td>{{ productPrice.dateTime | date : "dd/MM/yyyy" }}</td>
        <td>{{ productPrice.price | currency : "BRL" }}</td>
        <td>
          <a
            class="text-blue-900 no-underline"
            [href]="lessPrice?.url"
            target="_blank"
            >{{ getDomainName(productPrice?.url) }}</a
          >
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
